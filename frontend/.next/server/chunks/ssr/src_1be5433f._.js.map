{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///I:/Project%20Coding/granime.v2/frontend/src/hooks/use-anime.ts"],"sourcesContent":["import {\r\n  AnimeItem,\r\n  BackendIP,\r\n  IHiAnimeCard,\r\n  IHiAnimeDetail,\r\n  IHiAnimeSpotlight,\r\n  IHiAnimeStreamData,\r\n} from \"@/lib/utils\";\r\nimport { keepPreviousData, useQuery } from \"@tanstack/react-query\";\r\n\r\nconst DEFAULT_QUERY_OPTIONS = {\r\n  retry: 3,\r\n  retryDelay: 2000,\r\n  refetchOnWindowFocus: false,\r\n  staleTime: 720 * 60 * 1000,\r\n};\r\n\r\nexport const useWatchEpisode = (episode_id: string) => {\r\n  const {\r\n    data: streamData,\r\n    isLoading,\r\n    isError,\r\n  } = useQuery<IHiAnimeStreamData>({\r\n    queryKey: [\"watch\", episode_id],\r\n    queryFn: async () => {\r\n      const response = await fetch(\r\n        `${BackendIP}/watch?episodeId=${episode_id}&type=sub`,\r\n        {\r\n          method: \"GET\",\r\n        }\r\n      );\r\n      if (!response.ok) {\r\n        throw new Error(\"Response was not ok\");\r\n      }\r\n      const data = await response.json();\r\n      return data;\r\n    },\r\n    ...DEFAULT_QUERY_OPTIONS,\r\n  });\r\n\r\n  return { streamData, isLoading, isError };\r\n};\r\n\r\nexport const useDetailAnime = (slug: string) => {\r\n  const {\r\n    data: anime,\r\n    isLoading,\r\n    isError,\r\n  } = useQuery<IHiAnimeDetail>({\r\n    queryKey: [\"detail\", slug],\r\n    queryFn: async () => {\r\n      const response = await fetch(`${BackendIP}/info/${slug}`, {\r\n        method: \"GET\",\r\n      });\r\n      if (!response.ok) {\r\n        throw new Error(\"Response was not ok\");\r\n      }\r\n      const data = await response.json();\r\n      return data;\r\n    },\r\n    ...DEFAULT_QUERY_OPTIONS,\r\n  });\r\n  return { anime, isLoading, isError };\r\n};\r\n\r\nexport const usePopularAnime = () => {\r\n  const { data: anime = [], isLoading } = useQuery<IHiAnimeSpotlight[]>({\r\n    queryKey: [\"anime\"],\r\n    queryFn: async () => {\r\n      const response = await fetch(`${BackendIP}/top-airing`, {\r\n        method: \"GET\",\r\n      });\r\n      const data = await response.json();\r\n      return data.results;\r\n    },\r\n    retry: 3,\r\n    retryDelay: 2000,\r\n    refetchOnWindowFocus: false,\r\n    staleTime: 720 * 60 * 1000,\r\n  });\r\n\r\n  return { anime, isLoading };\r\n};\r\n\r\nexport const useLatestAnime = (page: number = 1) => {\r\n  const {\r\n    data: anime = [],\r\n    isLoading,\r\n    error,\r\n  } = useQuery<IHiAnimeCard[]>({\r\n    queryKey: [\"latest\", page],\r\n    queryFn: async () => {\r\n      const response = await fetch(\r\n        `${BackendIP}/recent-episodes?page=${page}`,\r\n        {\r\n          method: \"GET\",\r\n        }\r\n      );\r\n      if (!response.ok) {\r\n        throw new Error(\"Response was not ok\");\r\n      }\r\n      const data = await response.json();\r\n      // console.log(data.data.spotlight);\r\n      return data.results;\r\n    },\r\n    ...DEFAULT_QUERY_OPTIONS,\r\n  });\r\n\r\n  if (error) {\r\n    console.log(error);\r\n  }\r\n\r\n  return { anime, isLoading, error };\r\n};\r\n\r\nexport const usePopularSeasonAnime = () => {\r\n  const {\r\n    data: anime = [],\r\n    isLoading,\r\n    error,\r\n  } = useQuery<IHiAnimeSpotlight[]>({\r\n    queryKey: [\"popular-season\"],\r\n    queryFn: async () => {\r\n      const response = await fetch(`${BackendIP}/spotlight`, {\r\n        method: \"GET\",\r\n      });\r\n      if (!response.ok) {\r\n        throw new Error(\"Response was not ok\");\r\n      }\r\n      const data = await response.json();\r\n      // console.log(data.data.spotlight);\r\n      return data;\r\n    },\r\n    ...DEFAULT_QUERY_OPTIONS,\r\n  });\r\n\r\n  if (error) {\r\n    console.log(error);\r\n  }\r\n\r\n  return { anime, isLoading, error };\r\n};\r\n\r\nexport const useAnime = (page: number, letter: string) => {\r\n  const {\r\n    data: anime = [],\r\n    isLoading,\r\n    error,\r\n  } = useQuery<AnimeItem[]>({\r\n    queryKey: [\"list\", page],\r\n    queryFn: async () => {\r\n      const response = await fetch(\r\n        `http://localhost:3030/api/v1/az-list/${letter}?page=${page}`\r\n      );\r\n      if (!response.ok) {\r\n        throw new Error(\"Response was not ok\");\r\n      }\r\n      const data = await response.json();\r\n      // console.log(data.data.spotlight);\r\n      return data.data.response;\r\n    },\r\n    placeholderData: keepPreviousData,\r\n    ...DEFAULT_QUERY_OPTIONS,\r\n  });\r\n\r\n  if (error) {\r\n    console.log(error);\r\n  }\r\n\r\n  return { anime, isLoading, error };\r\n};\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 185, "column": 0}, "map": {"version":3,"sources":["file:///I:/Project%20Coding/granime.v2/frontend/src/app/%28main%29/list-anime/page.tsx"],"sourcesContent":["\"use client\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { H3, H4 } from \"@/components/ui/typography\";\r\nimport { useAnime } from \"@/hooks/use-anime\";\r\nimport Link from \"next/link\";\r\nimport { useState } from \"react\";\r\n\r\nexport default function Page() {\r\n  const [page, setPage] = useState(\"1\");\r\n  const [letter, setLetter] = useState(\"all\");\r\n  const { anime } = useAnime(page, letter);\r\n\r\n  const grouped = anime.reduce((acc, item) => {\r\n    const index = item.title.charAt(0).toUpperCase();\r\n    if (!acc[index]) acc[index] = [];\r\n    acc[index].push(item);\r\n    return acc;\r\n  }, {});\r\n\r\n  const list = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\".split(\"\");\r\n\r\n  const index = Object.keys(grouped).sort();\r\n\r\n  return (\r\n    <div className=\"w-full mx-12 my-30 flex flex-col gap-12\">\r\n      <div className=\"flex flex-col gap-4\">\r\n        <H3 text=\"Daftar Anime\" />\r\n        <p className=\"text-sm\">Total anime: {anime.length}</p>\r\n        <div className=\"flex flex-wrap w-[90%] items-center gap-3\">\r\n          {list.map((item) => (\r\n            <Link key={item} href={`list-anime#${item.toLowerCase()}`}>\r\n              <Button className=\"text-xs\" variant={\"outline\"} size={\"sm\"}>\r\n                {item}\r\n              </Button>\r\n            </Link>\r\n          ))}\r\n        </div>\r\n      </div>\r\n      {index.map((item) => (\r\n        <section\r\n          id={item.toLowerCase()}\r\n          key={item}\r\n          className=\"my-4 flex flex-col gap-4\"\r\n        >\r\n          <div className=\"border-b-2 border-ring w-[90%]\">\r\n            <H4 text={item} />\r\n          </div>\r\n          <ul className=\"flex justify-between flex-wrap gap-8 w-4/5\">\r\n            {grouped[item].map((item, index) => (\r\n              <ul key={index}>\r\n                <li className=\"list-disc ml-5\">\r\n                  <Link\r\n                    className=\"text-sm hover:text-primary\"\r\n                    href={`/anime/${item.id}`}\r\n                  >\r\n                    {item.title}\r\n                  </Link>\r\n                </li>\r\n              </ul>\r\n            ))}\r\n          </ul>\r\n        </section>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AACA;AALA;;;;;;;AAOe,SAAS;IACtB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAC;IACjC,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAC;IACrC,MAAM,EAAE,KAAK,EAAE,GAAG,IAAA,wIAAQ,EAAC,MAAM;IAEjC,MAAM,UAAU,MAAM,MAAM,CAAC,CAAC,KAAK;QACjC,MAAM,QAAQ,KAAK,KAAK,CAAC,MAAM,CAAC,GAAG,WAAW;QAC9C,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE,GAAG,CAAC,MAAM,GAAG,EAAE;QAChC,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC;QAChB,OAAO;IACT,GAAG,CAAC;IAEJ,MAAM,OAAO,6BAA6B,KAAK,CAAC;IAEhD,MAAM,QAAQ,OAAO,IAAI,CAAC,SAAS,IAAI;IAEvC,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,4IAAE;wBAAC,MAAK;;;;;;kCACT,8OAAC;wBAAE,WAAU;;4BAAU;4BAAc,MAAM,MAAM;;;;;;;kCACjD,8OAAC;wBAAI,WAAU;kCACZ,KAAK,GAAG,CAAC,CAAC,qBACT,8OAAC,uKAAI;gCAAY,MAAM,CAAC,WAAW,EAAE,KAAK,WAAW,IAAI;0CACvD,cAAA,8OAAC,4IAAM;oCAAC,WAAU;oCAAU,SAAS;oCAAW,MAAM;8CACnD;;;;;;+BAFM;;;;;;;;;;;;;;;;YAQhB,MAAM,GAAG,CAAC,CAAC,qBACV,8OAAC;oBACC,IAAI,KAAK,WAAW;oBAEpB,WAAU;;sCAEV,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC,4IAAE;gCAAC,MAAM;;;;;;;;;;;sCAEZ,8OAAC;4BAAG,WAAU;sCACX,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,MAAM,sBACxB,8OAAC;8CACC,cAAA,8OAAC;wCAAG,WAAU;kDACZ,cAAA,8OAAC,uKAAI;4CACH,WAAU;4CACV,MAAM,CAAC,OAAO,EAAE,KAAK,EAAE,EAAE;sDAExB,KAAK,KAAK;;;;;;;;;;;mCANR;;;;;;;;;;;mBARR;;;;;;;;;;;AAwBf","debugId":null}}]
}